# Hyperliquid API Configuration
HYPERLIQUID_API_KEY=your_api_key_here
HYPERLIQUID_SECRET=your_secret_here
HYPERLIQUID_API_URL=https://api.hyperliquid.xyz

# AI Model Configuration (Choose one)
AI_PROVIDER=openai  # Options: openai, anthropic
OPENAI_API_KEY=sk-your-openai-key-here
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here
AI_MODEL=gpt-4-turbo-preview  # or claude-3-5-sonnet-20241022

# Trading Configuration
BASE_SYMBOL=BTC-USD
TRADE_INTERVAL=1m  # Options: 1m, 5m, 15m, 1h, 4h, 1d
POSITION_SIZE=0.01  # Size per trade in base currency
MAX_POSITION_SIZE=0.1  # Maximum total position size
CONFIDENCE_THRESHOLD=0.7  # Minimum AI confidence to execute trade (0-1)

# Risk Management
STOP_LOSS_PERCENTAGE=2  # Stop loss percentage
TAKE_PROFIT_PERCENTAGE=5  # Take profit percentage
MAX_DAILY_TRADES=10  # Maximum trades per day
MAX_DAILY_LOSS=100  # Maximum daily loss in USD

# Backtesting
BACKTEST_START_DATE=2024-01-01
BACKTEST_END_DATE=2024-12-31
BACKTEST_INITIAL_BALANCE=10000

# System Configuration
LOG_LEVEL=info  # Options: debug, info, warn, error
LOG_DIR=./logs
ENABLE_LIVE_TRADING=false  # Set to true to enable live trading
DRY_RUN=true  # Simulate trades without execution

# Technical Indicators Configuration
RSI_PERIOD=14
EMA_FAST=12
EMA_SLOW=26
MACD_SIGNAL=9
BOLLINGER_PERIOD=20
BOLLINGER_STD_DEV=2

# Scheduler Configuration
ENABLE_SCHEDULER=true
TRADING_START_HOUR=0  # UTC hour to start trading (0-23)
TRADING_END_HOUR=23  # UTC hour to stop trading (0-23)

# Regime-change strategy parameters
SYMBOLS=BTC-USDC,ETH-USDC
LEVERAGE=8
MAX_EXECUTION_SLIPPAGE_BPS=8
EXECUTION_TICKS=1
DATA_STALE_MS=5000
COMPRESSION_RATIO=0.6
VOLUME_SPIKE_MULT=2.0
RANGE_WINDOW_MINUTES=15
VOL_SHORT_MINUTES=5
VOL_LONG_MINUTES=30
MIN_NET_EDGE_BPS=12
SPREAD_BPS_EST=2
SLIPPAGE_BPS_EST=4
TAKER_FEE_BPS=6
RISK_PER_TRADE_PCT=0.3
STOP_ATR_MULT=0.35
TP_R_MULT=2.5
TIME_STOP_SECONDS=240
MAX_HOLD_SECONDS=900
MAX_TRADES_PER_DAY=2
COOLDOWN_SECONDS=600
MAX_DAILY_DRAWDOWN_PCT=2.5
MAX_CONSECUTIVE_LOSSES=3
DRY_RUN=true

# Time-stop progress requirement (minimum favorable move in bps within TIME_STOP_SECONDS)
MIN_PROGRESS_BPS=1

# ========== MAKER-FIRST EXECUTION ==========
# Regime signal evaluation interval (reduce HTTP polling)
REGIME_EVAL_INTERVAL_MS=3000
REGIME_SIGNAL_CACHE_TTL_MS=5000

# Fee configuration
MAKER_FEE_BPS=-1                     # Maker fee in bps (negative = rebate)
# TAKER_FEE_BPS=6 (already above)

# Spread gate
SPREAD_BPS_EST_MAX=5                 # Reject entry if live spread > this value

# Maker-first execution
MAKER_FIRST=true                     # Use post-only limit orders for entry/exit
MAKER_POST_ONLY=true                 # Ensure orders don't cross spread
QUOTE_TICK_OFFSET=1                  # Offset from BBO in ticks for quote placement

# Queue discipline
MAX_QUEUE_WAIT_MS=350                # Cancel and requote after this timeout
MAX_REQUOTE_PER_SEC=2                # Rate limit for cancel/requote operations

# Taker fallback
ALLOW_TAKER_FALLBACK=true            # Allow taker exit if maker fails repeatedly
TAKER_ONLY_IF_NET_EDGE_BPS=20        # Only use taker if net edge exceeds this threshold

# WebSocket Market Data Configuration
USE_WS_MARKET_DATA=true              # Enable WebSocket for real-time BBO data
HYPERLIQUID_WS_URL=wss://api.hyperliquid.xyz/ws
WS_STALE_MS=5000                     # Consider data stale after 5s without WS update
WS_RECONNECT_MAX_DELAY_MS=30000      # Max delay between reconnection attempts
HTTP_FALLBACK_MIN_INTERVAL_MS=5000   # Rate limit: max 1 HTTP order book call per 5s per symbol
FALLBACK_CHECK_INTERVAL_MS=30000     # How often to check for stale WS data and trigger fallback
ORDER_BOOK_DEPTH=100                 # Depth of order book to fetch in HTTP fallback
